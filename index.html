<!doctype html>
<html>
<head>
    <meta charset=utf-8>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Restaurant Dashboard UI</title>
    <link rel="stylesheet" href="dest/css/main.css">
    <script>
    </script>
    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.2/html5shiv-printshiv.min.js"></script>
    <![endif]-->
</head>
<body>
<!-- Button trigger modal -->

<!-- Modal -->
<div class="modal" id="myModal" tabindex="-1" data-backdrop="static" data-keyboard="false" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <!--<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>-->
                <a href="javascript:void(0);" data-dismiss="modal" class="close-button"></a>
                <a href="javascript:void(0)">create new</a>
                <ul class="nav nav-tabs" id="tabContent">
                    <li class="active"><a href="#reservation-content" data-toggle="tab">reservation</a></li>
                    <li class=""><a href="#walk-in-content" data-toggle="tab">walk-in</a></li>
                </ul>
            </div>
            <div class="tab-content">
                <div class="tab-pane active" id="reservation-content">
                    <div class="modal-body">
                        <div class="search">
                            <input type="text" placeholder="Search by guest name or mobile" id="search">
                            <a href="javascript:void(0);" class="btn btn-round btn-add"></a>
                        </div>
                        <div class="row reservation-wrapper">
                            <div class="reservation-details col-md-5">
                                <div class="content">
                                    <h4>Reservation Details</h4>
                                </div>
                                <div class="row-details">
                                    <div class="row">
                                        <div class="col-md-3 col-xs-3">
                                            <label for="data-date">date</label>
                                        </div>
                                        <div class="col-md-6 col-xs-5">
                                            <input type="text" value="Wed, Jun 16" id="data-date">
                                        </div>
                                        <div class="actions col-md-3 col-xs-4">
                                            <a href="javascript:void(0);" class="btn btn-round btn-prev"></a>
                                            <a href="javascript:void(0);" class="btn btn-round btn-next"></a>
                                        </div>
                                    </div>
                                </div>

                                <div class="row-details">
                                    <div class="row">
                                        <div class="col-md-3 col-xs-3">
                                            <label for="data-time">time</label>
                                        </div>
                                        <div class="col-md-6 col-xs-5">
                                            <input type="text" value="08:15PM" id="data-time">
                                        </div>
                                        <div class="actions col-md-3 col-xs-4">
                                            <a href="javascript:void(0);" class="btn btn-round btn-prev"></a>
                                            <a href="javascript:void(0);" class="btn btn-round btn-next"></a>
                                        </div>
                                    </div>
                                </div>
                                <div class="row-details">
                                    <div class="row">
                                        <div class="col-md-3 col-xs-3">
                                            <label for="data-covers">covers</label>
                                        </div>
                                        <div class="col-md-6 col-xs-5">
                                            <input type="text" value="11" id="data-covers">
                                        </div>
                                        <div class="actions col-md-3 col-xs-4">
                                            <a href="javascript:void(0);" class="btn btn-round btn-prev"></a>
                                            <a href="javascript:void(0);" class="btn btn-round btn-next"></a>
                                        </div>
                                    </div>
                                </div>
                                <div class="row-details">
                                    <div class="row">
                                        <div class="col-md-3 col-xs-3">
                                            <label for="data-tat">tat</label>
                                        </div>
                                        <div class="col-md-6 col-xs-5">
                                            <input type="text" value="1:30h" id="data-tat">
                                        </div>
                                        <div class="actions col-md-3 col-xs-4">
                                            <a href="javascript:void(0);" class="btn btn-round btn-prev"></a>
                                            <a href="javascript:void(0);" class="btn btn-round btn-next"></a>
                                        </div>
                                    </div>
                                </div>
                                <div class="row-details">
                                    <div class="row">
                                        <div class="col-md-3 col-xs-3">
                                            <label for="data-notes">notes</label>
                                        </div>
                                        <div class="col-md-9 col-xs-9">
                                            <textarea id="data-notes" cols="30" rows="4">Whale is the common name for various marine mammals of the order Cetacea</textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="row-details">
                                    <div class="row">
                                        <div class="col-xs-3">
                                            <label>origin</label>
                                        </div>
                                        <div class="col-xs-9">
                                            <div class="btn-group btn-group-sm" data-toggle="buttons">
                                                <label class="btn btn-primary active">
                                                    <input type="radio" name="options" id="option1" autocomplete="off" checked> phone
                                                </label>
                                                <label class="btn btn-primary">
                                                    <input type="radio" name="options" id="option2" autocomplete="off"> In-person
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="table-details  col-md-7">
                                <div class="content">
                                    <h4>Table Details</h4>
                                    <span id="total-tables"><span id="rows-count"></span> tables available</span>
                                </div>
                            </div>
                            <div class="sort col-md-7">
                                <span>section&nbsp;<a href="javascript:void(0);" onclick="sortData(true, 'section', 'content-table', this);" class="sort-trigger up">sort</a></span>
                                <span>table type&nbsp;<a href="javascript:void(0);" onclick="sortData(true, 'type', 'content-table', this);"  class="sort-trigger up">sort</a></span>
                                <span>table #&nbsp;<a href="javascript:void(0);" onclick="sortData(true, 'id', 'content-table', this);"  class="sort-trigger up">sort</a></span>
                            </div>
                            <div class="filter col-md-7">
                                <span class="title">Apply filters</span>
                                <span class="label label-primary">Dinner&nbsp;<a href="javascript:void(0);" class="remove-filter"></a></span>
                                <span class="label label-primary">Cool&nbsp;<a href="javascript:void(0);" class="remove-filter"></a></span>
                            </div>
                                <div class="table-details  col-md-7">


                                    <table class="table" id="content-table">
                                        <thead>
                                        <tr>
                                            <th>#</th>
                                            <th>section</th>
                                            <th>type</th>
                                            <th>min</th>
                                            <th>max</th>
                                            <th>blocked</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td class="id">3b</td>
                                            <td class="section">patio</td>
                                            <td class="type">private dining</td>
                                            <td>2</td>
                                            <td>4</td>
                                            <td>VIP</td>
                                        </tr>
                                        <tr>
                                            <td class="id">3a</td>
                                            <td class="section">patio</td>
                                            <td class="type">private dining</td>
                                            <td>2</td>
                                            <td>4</td>
                                            <td>-</td>
                                        </tr>
                                        <tr class="active">
                                            <td class="id">4</td>
                                            <td class="section">ground floor</td>
                                            <td class="type">VIP only</td>
                                            <td>4</td>
                                            <td>12</td>
                                            <td>Owner <a href="javascript:void(0);" class="remove-row" onclick="removeOwnRow();">remove</a></td>
                                        </tr>
                                        <tr>
                                            <td class="id">5a</td>
                                            <td class="section">ground floor</td>
                                            <td class="type">VIP only</td>
                                            <td>4</td>
                                            <td>12</td>
                                            <td>-</td>
                                        </tr>
                                        <tr>
                                            <td class="id">5b</td>
                                            <td class="section">ground floor</td>
                                            <td class="type">open table</td>
                                            <td>4</td>
                                            <td>15</td>
                                            <td>-</td>
                                        </tr>
                                        </tbody>
                                    </table>

                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default">reset</button>
                        <button type="button" class="btn btn-primary">create reservation</button>
                    </div>
                </div>
                <div class="tab-pane" id="walk-in-content">
                    <div class="modal-body">
                        ...
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary">create</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script data-main="dest/js/main.min.js" src="bower_components/requirejs/require.js"></script>
<script>
    <!-- calculate rows-->
    var rowsCount = document.getElementById('content-table').rows[0].cells.length -1;
    document.getElementById('rows-count').innerText = rowsCount;
    function sortData(ascending, columnClassName, tableId, _this) {
        if (hasClass(_this, 'up')) {
            ascending = true;
            console.log(ascending);
        }
       if (hasClass(_this, 'down')) {
            ascending = false;
        }
        var tbody = document.getElementById(tableId).getElementsByTagName("tbody")[0];
        var rows = tbody.getElementsByTagName("tr");

        var unsorted = true;

        while (unsorted) {
            unsorted = false;

            for (var r = 0; r < rows.length - 1; r++) {
                var row = rows[r];
                var nextRow = rows[r + 1];
                var value = row.getElementsByClassName(columnClassName)[0].innerHTML;
                var nextValue = nextRow.getElementsByClassName(columnClassName)[0].innerHTML;

                value = value.replace(',', '');
                nextValue = nextValue.replace(',', '');

                if (!isNaN(value)) {
                    value = parseFloat(value);
                    nextValue = parseFloat(nextValue);
                }


                if (ascending ? value > nextValue : value < nextValue) {
                    if(ascending == true) {
                        var el = _this;
                        addClass(el, 'down');
                        removeClass(el, 'up');
                    }
                    else {
                        el = _this;
                        addClass(el, 'up');
                        removeClass(el, 'down');
                    }
                    tbody.insertBefore(nextRow, row);
                    unsorted = true;
                }
            }
        }

        function addClass(el, className) {
            if (el.classList)
                el.classList.add(className);
            else if (!hasClass(el, className)) el.className += " " + className
        }

        function removeClass(el, className) {
            if (el.classList)
                el.classList.remove(className);
            else if (hasClass(el, className)) {
                var reg = new RegExp('(\\s|^)' + className + '(\\s|$)')
                el.className=el.className.replace(reg, ' ')
            }
        }

        function hasClass(el, className) {
            if (el.classList)
                return el.classList.contains(className);
            else
                return !!el.className.match(new RegExp('(\\s|^)' + className + '(\\s|$)'))
        }
    }

</script>
</body>
</html>